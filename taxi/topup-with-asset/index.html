<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Vulpem Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Vulpem Docs Blog Atom Feed"><title data-react-helmet="true">Topup with asset | Vulpem Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Topup with asset | Vulpem Docs"><meta data-react-helmet="true" name="description" content="The following tutorial demonstrates how to use Taxi HTTP JSON APIs to retrieve a topup tx."><meta data-react-helmet="true" property="og:description" content="The following tutorial demonstrates how to use Taxi HTTP JSON APIs to retrieve a topup tx."><meta data-react-helmet="true" property="og:image" content="https://docs.vulpem.com/img/taxi_logo.svg"><meta data-react-helmet="true" name="twitter:image" content="https://docs.vulpem.com/img/taxi_logo.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Topup with asset"><meta data-react-helmet="true" property="og:url" content="https://docs.vulpem.com/taxi/topup-with-asset"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.vulpem.com/taxi/topup-with-asset"><link rel="stylesheet" href="/styles.f3cfbf80.css">
<link rel="preload" href="/styles.a80dffa6.js" as="script">
<link rel="preload" href="/runtime~main.cfbcdad3.js" as="script">
<link rel="preload" href="/main.be4384a1.js" as="script">
<link rel="preload" href="/1.e378dab4.js" as="script">
<link rel="preload" href="/2.2d978a85.js" as="script">
<link rel="preload" href="/22.aedb8765.js" as="script">
<link rel="preload" href="/935f2afb.280ed04c.js" as="script">
<link rel="preload" href="/17896441.851d3390.js" as="script">
<link rel="preload" href="/60fd4576.1b270d5c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/vulpem_logo.png" alt="Vulpem Ventures Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/vulpem_logo.png" alt="Vulpem Ventures Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Vulpem Docs</strong></a></div><div class="navbar__items navbar__items--right"><a href="mailto:hello@vulpem.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact</a><a href="https://github.com/vulpemventures/docs.vulpem.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/vulpem_logo.png" alt="Vulpem Ventures Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/vulpem_logo.png" alt="Vulpem Ventures Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Vulpem Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="mailto:hello@vulpem.com" target="_blank" rel="noopener noreferrer" class="menu__link">Contact</a></li><li class="menu__list-item"><a href="https://github.com/vulpemventures/docs.vulpem.com" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Marina</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/connect">Connect to Marina</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/balances">Display Balances</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/transaction">Transaction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/api">API reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/marina/ionio-example">Ionio Account</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Nigiri</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nigiri/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nigiri/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nigiri/tasting">Tasting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/nigiri/nutrition-facts">Nutrition Facts</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Taxi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/taxi/introduction">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/taxi/topup-with-asset">Topup with asset</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Topup with asset</h1></header><div class="markdown"><p>The following tutorial demonstrates how to use Taxi HTTP JSON APIs to retrieve a topup tx.</p><p>Let&#x27;s say, for example, that you want to transfer your USDt funds to somebody but you don&#x27;t have any LBTC to pay for network fees.</p><p>You can check if Taxi supports paying for network fees in exchange for a USDt service fee.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> axios </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;axios&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> taxiBaseUrl </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;https://stage-api.liquid.taxi&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> usdt </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;f3d1ec678811398cd2ae277cbe3849c6f6dbd72c74bc542f7c4b11ff0e820958&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">fetchAssets</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> status </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">taxiBaseUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">/v1/assets</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">status </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">200</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> assets </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">assets</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">map</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">details</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> details</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">assetHash</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">assets</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Taxi list of supported assets is empty&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> assets</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">assetSupportedByTaxi</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> assets </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">fetchAssets</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> assets</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">find</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">a</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token keyword nil" style="color:rgb(86, 156, 214)">undefined</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Retrieve the list of supported assets.</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">assetSupportedByTaxi</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">usdt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Taxi does not support usdt as topup service fee&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>To request a topup you need to specify the service fee asset, an approximate estimation of the size of your tx (take into account that Taxi always adds 1 input, 1 output and the fee output to it) and the sats/vByte ratio expressed in mSats/vB (<code>1 sats/vB = 1000 mSats/vB</code>).</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">fetchTopupWithAsset</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter">targetAsset</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> status </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">post</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">taxiBaseUrl</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">/v1/asset/topup</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    assetHash</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> targetAsset</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    estimatedTxSize</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">300</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    millisatPerByte</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">100</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">status </span><span class="token operator" style="color:rgb(212, 212, 212)">!==</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">200</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">const</span><span class="token plain"> topup </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">fetchTopupWithAsset</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">usdt</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Topup details:&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> topup</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:rgb(86, 156, 214)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The response object returned by the HTTP JSON endpoint is like the following:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#9CDCFE;background-color:#1E1E1E"><div class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;topup&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;topupId&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;f4ee76e8-54cd-491d-a222-e403dcb782e3&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;partial&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;cHNldP8BAgQCAAAAAQQBAQEFAQIBBgEDAfsEAgAAAAABAXoLOwF9vzTZzwI3IUrwZoc0t+fnZi1/QlEKJE/0FPSN4hgJCIfe700nDa6FmnSiuJt0PSWEd5eX9T0pQTzsohxNh9MDkUdU+BZ4RqNoalpDyEk32Of3jRO79NjewEgoRVBXG4kWABRm8a+2EqR6i8bU24yjHBh+h43w7yICA3QEKx8DuoMmr9MaNVAUXPGAkmvy/MJLR9KHHX2CZYxBRzBEAiAtv+IOs6Ji+Y0v0MFIyf+p1iCag2TyLGPIzfG8mwb10QIgV0Ar1h44WuYeIhEd08zR8YlOmL1xykp7a+2LQ5PLQymDAQMEgwAAAAEOILfZBPMPUNOchZyHZrKcQ+nMGVV1QEfy7S/aslHJC08pAQ8EAAAAAAEQBP////8H/ARwc2V0Dv1OEGAzAAAAAAAAAAHpik4AKjD7zjeEY8zCd/jAFuuHQ5yK3x6+XS+6MsyhdnCLJ9lBimOmFRiLzToLUPMl25nw5ua3KRj6id1Oxos42j7ix/xJlooIRJRnEUsH3lE8cr6kf5MnF0JcIF74BhN5EZvj55hAycBD8osj4ZQT/jwP60JNJTxSEQv8JuiP/XQZVLytAWd5Vv/FV4EVYcz/ND1NcXfuRipJ2ngWS1b2Q76t/Mn5fHUgwSDlh0nY9SS+ooxxaQfwoU+v1FCtAJa4K8ijCJDmDaWiC3TNDq2Sjaz166c9vm3nZDa3gVHgPhl+/O7JcPMjkFaPgEvK470Ozh3qjAmbMUFPYjgAX1cQYXJSUwzj8Wl5CLdslUlOM4g0tPheh4cTIhy/a8mKSOd2UG6Q0Eku/Z9j1RLThfNZBpcWBmDFI+jyTcJTK1sREh+PIKeSUJ/zmk0rx8lT+16OEVar4vujLTIr+GxcDQFlJJe6WFUz2ry7bVRNKUHYo3uB+KxP1DoPF/8Im/1kwWPSydZpUp9vfpE7wZcNFZhrVe3X+Il+yJgNM0KNMNY5GEaVCZGUpCBqdoNm3+6n6klpwELTfOe1rb2L9YY1lc1/vWkTpnnq+ZtuU6CBspWiXEnWXza9eIlGfVbBuD8NEJUPrZ56C+slOlUzE8SELjQljmMI+NU5GU4m2aPxgVvmLSNRRgVCcCYNCca6Ybwyr7QNq7rRKs79y3KEw5AkuojsPNidzyHskXQEd0CoF0p2t7zFSyMnASk+hsWfT0K175tt3LFcJhYKupfkIxAh+a1gTRiz2FptxE4KuP+OzWN2hwkLFM/rfTz4Wk0ytAAaNepexKL90zehPmkIzHAklz44i8wQ8eFtSKnCOMl/OjbxgMx4S9rB5uAtz0beh590YkCgccko28arMYJjrK+Bi65JPWEWjNCu2wYrQfko1TsAZW7nM9oGfwnplbRInZqZVC6l4iDLvZ9ZNcot9oWegV32Zs0rSeT8tRBrpYoJX0lzdBeQvkeBZGK9VTPfDqGjr3eee7eDw9W+bLDiu3M4W2ZwlPo4rf+aITOsFgmjFHzP/e33h6aqtTJP+WCsvYdzNvcUqsUm9dj2mM48qLAL/RB9KqRxmtzNFxwfUA9rgF/mxHTFB4GgUAIENZwyp4CAE6EvqKX5KXj7n9225sOr79KtNDQifIcGcru57BhnrRLGAGiGeEtGttHwHLRMFi2onugYDQAx25XD7lgipXMVKh9ApGOHtxcJP9gpwycNCFoR4Bpv4NI3j7Kiz/JZ/sf+vMtdSiYXyJiytOjfbFok0AjiYwAFIOrbzBKY9Qo9WA0p0sexNj4DiIbBDrA9fCHTDsZE4NO2W25Zz5ah+jGZpgLmLWoFSI6taPARbEC83uVEVNCX1PRxgHGvyPTkBNUnSSqFhN+tblPbkmP//Y8jHVZ4Zi3GKYlhuqJaOH3tAHJuQHL60f8UHlckgUSP2khAG7todElG5ihu1kxVD3aDJBbeFMnbGCTzFNSg4biVRbUCc8KPPCx/S/+jSpb6kpmsUxXgQaf+TmAJqELmO/mnvQjqrE1D6KR1A6SZlGacaNwSi1R4rBALvx+xZdpwFGbJP1Pkiij8mWP1hfoz73HsaI1CBg3QDHCIL9hWkCOK4kvXGL70uAZAXcR25yOOko5mRntS9kzIrehM72yzzRBwCo2I3xRKwp7h2uAO8afFGyYTX0ETdoDOwC8LcYks2YMrjh62PaLN4KZmTX0wc7/R2mbWM8kk8VMOZ+DfW3dUX0SzlarV35IWAGTwOKyLodxGg3lGOA/hV9De1kxu83/p2mmQLICb9AyM6xtXb2c6Uw1QKYuoPxQ2pPUKkCLH3H9NBpWkRgZe/OpeKxcuigsem4sQxn1YGmL8s+BkcAJXrlkZyPRCobbnXUeDPGDr0ezIxmt3vsjOicQkFu55KetWg82ic/ZnshvW4mNee8rjVbKceYrvfOhSuF+6DtU5a+afTXwCcKPeyFb5NAOPjfnHyhPY3Hq2bvwbnAte3y6nr93HwrsUpcpUl9RWeD9qgO1uDZMDgdZBLGYvnY/OZOnmcQoG0YsEfAkhykDx3ivosgHQc5v35ttf2nznFoVULbxNhZMDboV6L3780T+0penyJvCV50rjAQ4YoZBqsPJR3Evy14WNSB2e8SjlHQhFgQj2XQDbRRMlPSWzBnEbbJhymM7ux3CXtY9/p4kMDEHU41JERZNTyv90i00E0S2OGIj925Y95qKUDjunZtq6pzl/nZbWSNWQ0T8oY+fgz0x9tew8sf5OBxk1nfVwZV9SZ+CaNMtIxxO1/sxCdbvm0PAFfC08UsSmNpYnf1SPTkKnqZDVCeBkAMCRuHL+7/GQ+gzxWl2pupfzouA/rhiDEC7n55Xc+HTTRtd8I/iv8niLIJPLZUafpg9r+fdbSP+DnkvOTVN1/Cd099NE8cIhfZha2rg2zWDNys2HLfBvbYqyddruzGb6CisGT2lrOzCC/EUyk+8suscpctx6PH7cP9zl/JOvsG951CEGzo5XUJ8qbe0mJ7at8XdHs+hE5lhG4A46RYuNWVHkcw5ZpyCZ2bTmbhLdtayvglPszeGdHuSweP6dFlkunPxvmJTSso3P95mdKryP/gd2inAqF4ePLz9e07sQ1QIw9hKrX5t0RCE3RgsJSg34QvAOtOUGPAfg3qe3/lJ0rj8gvDLaou0/iGSgpXGBlh9VGIRfkRaMt5EaIGCi2gc1F8iDSV+ZCH1qZ3kFRYgV5JTAlN4NWQ1isLepy8sjIsBoiBOfRU0nQrh1iFag9mAtvEsIS1fuBrbRY2oYBgcL5jYPxfsvavRGRXlIfsHaV65IVCe/m75lLvnO8hAyC6ltgAzjbb+M2KNQ5w/4pEmoAxUdGfdlHHDslcbyzyqYcl0HKU7mhcCBnu7dfxh8BVw/3AESJdO/S6KW3z7FP8fpgQGtxb/jn6QVzKwbGmDePnphM9tKjUB5alRINqZqCG3nKjKI7e0Ttuqtb3O8QYcULodmIsqr+wonnuu8IynTX0Yu5+bXo3kGnGxn+kWS5j47NYyV+OqEq2xbDOet651/i4BoTizyOifNqlqMXeGD1KoWfi8Js9SmGR7Vx0doBCPD2GCb2sG+JW9Cb2mBRMXTDpImUavmlGHOpnjbBygHJmIGCYPVDRluOKRhthdE9+6aCa5ChNXkbypFCxBhZilUV278aV3z/4psVcAHqrrOuE5SuZCe1PNIg9otBlDlSMYjNYbsc/IruW1/YZNFWl58nP1gayVWKjAmYX7vICOaamVmAUAugPdW6yHVIz2O3bJe98PwdOzn57vTw0wEeTAq8B3m89kzOwICu7U7s0rAsnUevIaZAF7FfV5oiFfeDQDJpyJtM5W9EMDqoC5+pFwGqzo9gXpegJvoreRlTW1qexEKNtj7iR+17v+hoWk9LSwxzCy4sCAl+MVAhRvOCzuX9tDc3zSNP21e+VIBnmK7XP976DZsLk9CsS0lzJFerTuHnZEoQ4ZUQanF2laV7gDQsEwjMrSBurb/sHPukYevHnlWWbM6z8fl0+g1OGKOpFOr3jziE9C8QCk58Bskhb7BYvOn5cCXFTx715zscxgcOH4ZMXNgOtf3vsyaNCuAbRUhRdmkyjvbO0MMWQRU8RbSVOmM+1cxaoy8aO1sRwTjRlOech2dPwkWOJ8OTUZwiKIkW9VBsFrYJz86i01xifvjYhV79w1xqXrgF9zaXwIbDf9Jpr/AN4kbqbB7guEwt8NhMUxSQulhoTO3HAYjP4wwmBc4QjRnD5oX6uUALvZI342QSwYLYWCbTKN3yWPoH1AfrRw/rc0hNtUI/S8Hfi2zHgEN09SXawkCBxOzRahsaGb0samEyPRo2ij3Qa3OU2Ov4dp5IlNBDlIlwD1K5VC8qHZWVZje4Zo3e8oPso6tG70JqCCHsao77nIDxE03jX6XR5nVoYC5vBgMKBJfrnXFk64Zd4bhkZzZCMBfcWFGThiSvNDxcKbjlt/5l9zb2Q3SikQ9GNDTHZ5t7Gds0y9/5h1OOcfwLj54R3IchGG+8iUnlChef4gY0OwbVYUi28wBtISLa86t16dPAn02w9t+kcVPWiJVrnRODIL+v4xRj1R5rPnjdsIN9fuS9JuHGZcd1dQkZ5wL3bbJrrlU1vyuFMY2S/VQxtpJWATc27GE54pSYRTw8/XDIg19HjLqH8mIAgGA6HAGytpvJZpgre3YrkB9GLTDpEoxXBW5zrzKIAv9aLsOImsp7mC752fgAYdr93JhUhwb+e0L4b/joxNsknVH4YKPKtXXbsvxVN73PZoV6gLfJXiChK5TR81aNcolom9VzLmdS6TTYmQ7r2ZuT2R63EKZPmlkmEzbcnMY0ddeYg3p4iUerLC+w13a2K2LlEveAbGoy18sr87stYZL+E8FOTZ0euWW/R4ISZxDovsy5+WEv5XP/qcl95rsrkfs8t3tGiFqZ5z6SmTUx3+Lc+qMyKBRf7hYx6chrAhq/gaK8lZ0I87NgSJBDas0tJMzCKpgvfeqnSxTZ36uDW4/0gRj2TfOniukBeXBnDfSbAPQ0/HbL1tHCfg2hfpzGeNJNf05oQ7vz7H1S3eba8kibd3E3UsWcxHr6/jnVY5qzndGEvkO0PCr5SPR/c1wTpbX5XmCAVLHuZtDHz4CB0i7BBjEAlkRjBbOQX5mKLEQERGm7SZyrXjLnVRxVNXM//2QUX2Grveacz4bq9MaP00CG318dIJ9YW+HdgLaFXRbZkF2eTloc5CaCCTzxCFxWY+DFVDQRUcBTF6nVNPNfWFxe5H/7tiWCp9USfjuO4+hroIQfDa0AZHvDoQDO66i6UNaIRapbWPl2Rg979OPQpmbYiXjO+X+OJX4rIA1GwVbQhaecOGZPkIrZ9VJp0OjroDEE2/bfoR0KrYWO0tEA3y+cjZ8PsCP6wbDE4HbDrqti3iWMh2pkelpFdeFLyk17gAunE9ekSIt2j5xd8OxcV3lOV2wNLvzvQzvNjRY22+oJKCjyD0k1rVdxAvUPROO5+9oALpfSNd0yXUPwWKDtFebjPh2/+tJyQDy12s/jfoZynKIEc1Dxqqa7BKiH75dNurPCVtcmmPVxtMP/moyL/OuhXwDAby31cWb9k+db1j3nnuFMohyBvNEJkz20ql/w1W4HlLGbyB8RsgAqyb4IetZJaeuNyzfVYdAiWjwoEC6Q4nQHKFgBoGvatTjykX8jVZCy7DkS4E8su6TG7qxmmR43eLFWxGabh8Yde/H0X8E3yK0Z09uC1iy6yJ0HJqoLJFBWiL4TikZRrd6fxEk44o3GmJWxq/itD2jg4VbvjxXt87VIVKbDiQmbti4riqFjgCXh3yFPbRRyb3BLYvCnyWEFL05PlZ2QjeIUqwROqXxEIk6FTWPb0T1X5Cvua+9fb+Fv6+LTJGt7EbEKtvNaRi0s8OwiFv03frTGnqwbADsRvomdngCqlmPf2Dn3J1L1SEwA8TkcufmeF0uoVL4VUQqsCy7bjoMqInX5WtN/DFUJeBCrYOBoIg6XxGUkJ//u84Dq/kAAQMIwNinAAAAAAABBBYAFKF+8PBQSpfwOMOpLq2rnDs62bKHB/wEcHNldAIgWAmCDv8RS3wvVLx0LNfb9sZJOL58J67SjDkRiGfs0fMH/ARwc2V0CAQAAAAAAAEDCPQBAAAAAAAAAQQAB/wEcHNldAIgSZqBhUX2uuOfwDtjfypOHmTlkMrBvDpvbXGqRENlTBQH/ARwc2V0CAQAAAAAAA==&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;expiry&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;1663770843&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;assetHash&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;f3d1ec678811398cd2ae277cbe3849c6f6dbd72c74bc542f7c4b11ff0e820958&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;assetAmount&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;11000000&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;inBlindingData&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;asset&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;value&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;500&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;assetBlinder&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;OEcE1xA/okJ75IGI6XA3ABt4MgmuKdUxxPwVoPboElo=&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token property">&quot;valueBlinder&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Qs0a8O3cGFHCzjtzCSQnn8oFYobJBKd4RatS2oKyHJ8=&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ul><li><code>topup.topupId</code> is the id of the topup that Taxi uses internally to uniquely identify it.</li><li><code>topup.partial</code> is the pset created by Taxi to which you can add inputs and outputs to transfer your funds. The tx contains exactly 1 LBTC input and 2 outputs. The input is entirely spent by the fee output. The maximum final tx size, or the number of inputs and outputs you can add to it, depends on the fee amount and the sats/vByte ratio you passed in the request. The second output is the service fee, that you must pay with your funds.</li><li><code>expiry</code> is the unix timestamp of the expiration date for the topup. After that date, if Taxi doesn&#x27;t see the topup tx included in blockchain, it takes care of creating another tx and transfer the same input to one of its addresses. Any later attempt to broadcast the topup tx fails because Taxi&#x27;s input has already been spent.</li><li><code>assetHash</code> is the service fee asset, exactly the one passed in the request object.</li><li><code>assetAmount</code> is the service fee amount that you must pay with your own funds.</li><li><code>inBlindingData</code> is the list of unblinded data of the confidential inputs added by Taxi to the topup tx (always 1 tx input, therefore 1 entry). Includes the unblinded asset, value and relative blinders. Note that the blinders are encoded in base64 standard encoding instead of &quot;normal&quot; hex encoding, just because this is the standard format for the representation of raw bytes in HTTP JSON objects.</li></ul><p>The complete version of the tutorial with instructions to run a live demo can be found on <a href="https://github.com/vulpemventures/taxi-tutorial" target="_blank" rel="noopener noreferrer">Github</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/vulpemventures/docs.vulpem.com/edit/master/docs/docs/taxi/topup-with-asset.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/taxi/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/vulpemventures" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://vulpem.medium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/vulpemventures/docs.vulpem.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Vulpem Ventures OU. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.a80dffa6.js"></script>
<script src="/runtime~main.cfbcdad3.js"></script>
<script src="/main.be4384a1.js"></script>
<script src="/1.e378dab4.js"></script>
<script src="/2.2d978a85.js"></script>
<script src="/22.aedb8765.js"></script>
<script src="/935f2afb.280ed04c.js"></script>
<script src="/17896441.851d3390.js"></script>
<script src="/60fd4576.1b270d5c.js"></script>
</body>
</html>